import{f as D}from"./chunk-5PLGU6QO.js";import{ba as y,da as $,oa as I,pb as x,r as _,s as B,t as l,ta as M,u as f,za as j}from"./chunk-KE5UF2SR.js";import{B as b,Bc as O,Hc as T,Ic as w,Lc as C,Ra as S,Rc as v,Y as u,a as c,b as p,ca as m,fa as a,m as o}from"./chunk-37HN4E3D.js";var F=(()=>{class s{static{this.type="[Brand] Get"}constructor(e){this.payload=e}}return s})(),G=(()=>{class s{static{this.type="[Brand] Get Brand By Slug"}constructor(e){this.slug=e}}return s})();var P=(()=>{class s{constructor(e){this.http=e}getBrands(e){return this.http.get(`${y.URL}/brand`,{params:e})}getBrandBySlug(e){return this.http.get(`${y.URL}/brand/slug/${e}`)}static{this.\u0275fac=function(i){return new(i||s)(a(O))}}static{this.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var g=class d{constructor(t){this.brandService=t}static brand(t){return t.brand}static selectedBrand(t){return t.selectedBrand}getBrands(t,e){return this.brandService.getBrands(e.payload).pipe(u({next:i=>{t.patchState({brand:{data:i.data,total:i?.total?i?.total:i.data?.length}})},error:i=>{throw new Error(i?.error?.message)}}))}getBrandBySlug(t,e){return this.brandService.getBrandBySlug(e.slug).pipe(u({next:i=>{let r=t.getState();t.patchState(p(c({},r),{selectedBrand:i}))},error:i=>{throw new Error(i?.error?.message)}}))}static{this.\u0275fac=function(e){return new(e||d)(a(P))}}static{this.\u0275prov=m({token:d,factory:d.\u0275fac})}};o([_(F)],g.prototype,"getBrands",null);o([_(G)],g.prototype,"getBrandBySlug",null);o([f()],g,"brand",null);o([f()],g,"selectedBrand",null);g=o([B({name:"brand",defaults:{brand:{data:[],total:0},selectedBrand:null}})],g);var h=class s{constructor(t,e,i,r){this.meta=t,this.router=e,this.titleService=i,this.ngZone=r,this.currentMessageIndex=0,this.delay=1e3,this.isTabInFocus=!0,this.scoContent={},this.router.events.pipe(b(n=>n instanceof C)).subscribe(n=>{this.path=n.url,this.updateSeo(this.path)}),this.fetchData(),setTimeout(()=>{this.updateDefaultSeo()},100)}fetchData(){this.setting$.subscribe(t=>this.setting=t),this.product$.subscribe(t=>this.product=t),this.blog$.subscribe(t=>this.blog=t),this.page$.subscribe(t=>this.page=t),this.brand$.subscribe(t=>this.brand=t),this.category$.subscribe(t=>this.category=t),this.themeOption$.subscribe(t=>{this.themeOption=t})}updateSeo(t){t.includes("product")?(this.product&&(this.scoContent={url:window.location.href,og_title:this.product.meta_title||this.themeOption?.seo?.meta_title,og_description:this.product.meta_description||this.themeOption?.seo?.meta_description,og_image:this.product.product_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url}),this.customSCO()):t.includes("blog")?this.blog&&(this.scoContent=p(c({},this.scoContent),{url:window.location.href,og_title:this.blog?.meta_title||this.themeOption?.seo?.meta_title,og_description:this.blog?.meta_description||this.themeOption?.seo?.meta_description,og_image:this.blog?.blog_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url}),this.customSCO()):t.includes("page")?(this.page&&(this.scoContent=p(c({},this.scoContent),{url:window.location.href,og_title:this.page?.meta_title||this.themeOption?.seo?.meta_title,og_description:this.page?.meta_description||this.themeOption?.seo?.meta_description,og_image:this.page?.page_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):t.includes("brand")?(this.brand&&(this.scoContent=p(c({},this.scoContent),{url:window.location.href,og_title:this.brand?.meta_title||this.themeOption?.seo?.meta_title,og_description:this.brand?.meta_description||this.themeOption?.seo?.meta_description,og_image:this.brand?.brand_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):t.includes("category")?(this.category&&(this.scoContent=p(c({},this.scoContent),{url:window.location.href,og_title:this.category?.meta_title||this.themeOption?.seo?.meta_title,og_description:this.category?.meta_description||this.themeOption?.seo?.meta_description,og_image:this.category?.category_meta_image?.original_url||this.themeOption?.seo?.og_image?.original_url})),this.customSCO()):this.updateDefaultSeo()}updateDefaultSeo(){let t="Trendy Men's, Women's, Sports & Streetwear Clothing Online",e="Discover Stylish men's, women's, sports, and streetwear clothing. Shop the latest fashion online at your Cool Fashion at unbeatable prices.",i=this.themeOption?.seo?.meta_title||t,r=this.themeOption?.seo?.meta_description||e,n=window.location.href;if(this.meta.updateTag({name:"title",content:i}),this.meta.updateTag({name:"description",content:r}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:url",content:n}),this.meta.updateTag({property:"og:title",content:i}),this.meta.updateTag({property:"og:description",content:r}),this.meta.updateTag({property:"og:image",content:this.scoContent.og_image||this.themeOption?.seo?.og_image?.original_url}),this.meta.updateTag({property:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({property:"twitter:url",content:n}),this.meta.updateTag({property:"twitter:title",content:i}),this.meta.updateTag({property:"twitter:description",content:r}),this.meta.updateTag({property:"twitter:image",content:this.scoContent.og_image||this.themeOption?.seo?.og_image?.original_url}),this.themeOption?.general&&this.themeOption?.general?.exit_tagline_enable)document.addEventListener("visibilitychange",()=>{this.messages=this.themeOption.general.taglines,this.ngZone.run(()=>{if(this.isTabInFocus=!document.hidden,this.isTabInFocus)return clearTimeout(this.timeoutId),this.titleService.setTitle(this.themeOption?.general?.site_title&&this.themeOption?.general?.site_tagline?`${this.themeOption?.general?.site_title} | ${this.themeOption?.general?.site_tagline}`:"");this.updateMessage()})}),this.scoContent=p(c({},this.scoContent),{url:window.location.href,og_title:this.themeOption?.seo?.meta_title||"Trendy Men's, Women's, Sports & Streetwear Clothing Online",og_description:this.themeOption?.seo?.meta_description||"Discover Stylish men's, women's, sports, and streetwear clothing. Shop the latest fashion online at your Cool Fashion at unbeatable prices.",og_image:this.themeOption?.seo?.og_image?.original_url}),this.customSCO();else{let U=this.themeOption?.general?.site_title||"Your Cool Fashion",W=this.themeOption?.general?.site_tagline||"Trendy Men's, Women's, Sports & Streetwear Clothing Online";return this.titleService.setTitle(`${U} | ${W}`)}}customSCO(){let t="Trendy Men's, Women's, Sports & Streetwear Clothing Online",e="Discover Stylish men's, women's, sports, and streetwear clothing. Shop the latest fashion online at your Cool Fashion at unbeatable prices.",i=this.scoContent.og_title||t,r=this.scoContent.og_description||e,n=this.scoContent.url||window.location.href;this.titleService.setTitle(i),this.meta.updateTag({name:"title",content:i}),this.meta.updateTag({name:"description",content:r}),this.meta.updateTag({property:"og:type",content:"website"}),this.meta.updateTag({property:"og:url",content:n}),this.meta.updateTag({property:"og:title",content:i}),this.meta.updateTag({property:"og:description",content:r}),this.meta.updateTag({property:"og:image",content:this.scoContent.og_image||this.themeOption?.seo?.og_image?.original_url}),this.meta.updateTag({property:"twitter:card",content:"summary_large_image"}),this.meta.updateTag({property:"twitter:url",content:n}),this.meta.updateTag({property:"twitter:title",content:i}),this.meta.updateTag({property:"twitter:description",content:r}),this.meta.updateTag({property:"twitter:image",content:this.scoContent.og_image||this.themeOption?.seo?.og_image?.original_url})}updateMessage(){clearTimeout(this.timeoutId),this.currentMessage=this.messages[this.currentMessageIndex],this.titleService.setTitle(this.currentMessage),this.currentMessageIndex=(this.currentMessageIndex+1)%this.messages.length,this.timeoutId=setTimeout(()=>{this.updateMessage()},this.delay)}ngOnDestroy(){clearTimeout(this.timeoutId)}static{this.\u0275fac=function(e){return new(e||s)(a(T),a(v),a(w),a(S))}}static{this.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"})}};o([l($.themeOptions)],h.prototype,"themeOption$",void 0);o([l(j.setting)],h.prototype,"setting$",void 0);o([l(I.selectedProduct)],h.prototype,"product$",void 0);o([l(M.selectedBlog)],h.prototype,"blog$",void 0);o([l(g.selectedBrand)],h.prototype,"brand$",void 0);o([l(D.selectedPage)],h.prototype,"page$",void 0);o([l(x.selectedCategory)],h.prototype,"category$",void 0);export{F as a,G as b,g as c,h as d};
